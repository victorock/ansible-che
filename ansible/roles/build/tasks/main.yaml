---
- name: "Ensure epel-release"
  yum:
    name: "epel-release"
    state: "latest"

- name: "Ensure packages"
  yum:
    name: "{{ required_packages }}"
    state: "latest"

- name: "Ensure pip"
  pip:
    name:
        - "pip"
        - "setuptools"
    state: "latest"

- name: "Ensure requirements"
  environment:
    PYCURL_SSL_LIBRARY: openssl
  pip:
    name: "{{ required_pips }}"
    state: "latest"

- name: "Esure ansible user"
  user:
    uid: 1001
    group: 0
    name: ansible
    home: /home/ansible
    create_home: yes
    shell: /bin/bash
    state: present
